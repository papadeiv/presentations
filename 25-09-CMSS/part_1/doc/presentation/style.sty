\RequirePackage{transparent}
\RequirePackage{multimedia}
\RequirePackage{subfiles}
\RequirePackage{booktabs}
\RequirePackage{multirow}
\RequirePackage{caption}
\RequirePackage{cancel}
\RequirePackage{xparse}
\RequirePackage{pifont}
\RequirePackage{tikz}

%%%%%%%%%%%%%%%%%%%%%%
%   Theme & colors   %
%%%%%%%%%%%%%%%%%%%%%%

% Presentation's theme and colorscheme
\date[]{}
\usetheme{Boadilla}
\usepackage[latte, textcolor=true, pagecolor=true]{catppuccinpalette}

% Background
\setbeamercolor{background canvas}{bg=CtpBase}
% Text
\setbeamercolor{normal text}{fg=CtpText}
% Presentation title
\setbeamercolor{title}{fg=CtpText}
% Slides title
\setbeamercolor{frametitle}{fg=CtpText}
% Definitions 
\AtBeginEnvironment{definition}
{
        \setbeamercolor{block title}{fg=CtpText,bg=CtpPink!50}
        \setbeamercolor{block body}{fg=CtpText,bg=CtpPink!50}
}
% Theorems
\AtBeginEnvironment{theorem}
{
        \setbeamercolor{block title}{fg=CtpText,bg=CtpLavender!50}
        \setbeamercolor{block body}{fg=CtpText,bg=CtpLavender!50}
}
% Examples 
\setbeamercolor{block title example}{fg=CtpText,bg=CtpPeach!50}
\setbeamercolor{block body example}{fg=CtpText,bg=CtpPeach!50}
% Buttons
\setbeamercolor{button}{fg=CtpText, bg=CtpPink}
% Biblio entries
\setbeamercolor{bibliography entry author}{fg=CtpText, bg=CtpBase}
\setbeamercolor{bibliography entry location}{fg=CtpText, bg=CtpBase}


%%%%%%%%%%%%%%%%%%%%
%   Slide layout   %
%%%%%%%%%%%%%%%%%%%%

% Header 
\setbeamertemplate{headline}{}
% Footer
\renewcommand{\thefootnote}{[\arabic{footnote}]}
\renewcommand{\thempfootnote}{[\arabic{mpfootnote}]}
\makeatletter
\let\oldfootnoterule=\footnoterule
\def\footnoterule{\moveright8cm\vbox{\oldfootnoterule}}
\def\@makefntext#1{\parindent 1em\noindent \hskip7.85cm \hb@xt@ 1.8em{\hss \@makefnmark }#1}
\setbeamertemplate{footline}
{
        \begin{beamercolorbox}{page number in head/foot}
                {\hspace{6pt}\footnotesize\bfseries\insertframenumber}\vskip7pt
        \end{beamercolorbox}
}
% Navigation bar
\setbeamertemplate{navigation symbols}{}
% Title page
\setbeamertemplate{title page}[default][left,leftskip=-8pt]
% Slides 
\setbeamertemplate{frametitle}{\vskip8pt{\hspace{-10pt}\insertframetitle}}
\setbeamersize{text margin left=6mm,text margin right=6mm}
% Theorems
\setbeamertemplate{blocks}[rounded][shadow=false]

%%%%%%%%%%%%%%%%%%%%%%
%   Font selection   %
%%%%%%%%%%%%%%%%%%%%%%

% Font families:
% https://www.overleaf.com/learn/latex/Font_typefaces
% Font series & shapes:
% https://tex.stackexchange.com/questions/68745/possible-values-for-fontseries-and-fontshape
% Font sizes:
% https://www.overleaf.com/learn/latex/Font_sizes%2C_families%2C_and_styles#Font_sizes

% Title of the presentation
\setbeamerfont{title}
{
        size=\Large, 
        family=\fontfamily{cmss},
        series=\fontseries{sb},
        shape=\fontshape{n},
}
% Title of each slide
\setbeamerfont{frametitle}
{
        size=\Large, 
        family=\fontfamily{cmss},
        series=\fontseries{sb},
        shape=\fontshape{n},
}
% Title of each block
\setbeamerfont{block title}
{
        size=\normalsize, 
        family=\fontfamily{cmss},
        series=\fontseries{sb},
        shape=\fontshape{n},
}
% Body of each block
\setbeamerfont{block body}
{
        family=\fontfamily{cmss},
        shape=\fontshape{n},
}
% Title of each example 
\setbeamerfont{block title example}
{
        size=\normalsize, 
        family=\fontfamily{cmss},
        series=\fontseries{sb},
        shape=\fontshape{n},
}
% Body of each block
\setbeamerfont{block body example}
{
        family=\fontfamily{cmss},
        shape=\fontshape{n},
}
% Biblio entries: authours
\setbeamerfont{bibliography entry author}
{
        size=\small, 
        family=\fontfamily{cmss},
        shape=\fontshape{n},
}
% Biblio entries: journal
\setbeamerfont{bibliography entry location}
{
        size=\small, 
        family=\fontfamily{cmss},
        series=\fontseries{sb},
        shape=\fontshape{n},
}

%%%%%%%%%%%%%%%%%%%%
%   Environments   %
%%%%%%%%%%%%%%%%%%%%

% Bullet styles:
% https://tex.org.uk/macros/latex/required/psnfss/psnfss2e.pdf (p. 14)

% Itemised lists
\setlength{\leftmargini}{1.55em}
\setlength{\labelsep}{0.85em}
\setbeamertemplate{itemize item}{\raisebox{+.30ex}{\textcolor{CtpMauve}{\tiny\ding{108}}}\kern-.30ex}
\setbeamertemplate{itemize subitem}{\kern-.4ex\raisebox{+.30ex}{\textcolor{CtpLavender}{\tiny\ding{110}}}\kern-.30ex}
\setbeamertemplate{itemize subsubitem}{\textcolor{CtpPeach}{\scriptsize\ding{117}}}

% Numbered lists
\setbeamertemplate{enumerate item}{\raisebox{+.30ex}{\textcolor{CtpMauve}{\scriptsize\textbf{\arabic{enumi})}}}\kern-.30ex}
\setbeamertemplate{enumerate subitem}{\raisebox{+.30ex}{\textcolor{CtpLavender}{\scriptsize\textbf{\arabic{enumi}.\arabic{enumii})}}}\kern-.30ex}
\setbeamertemplate{enumerate subsubitem}{\raisebox{+.30ex}{\textcolor{CtpPeach}{\scriptsize\textbf{\arabic{enumi}.\arabic{enumii}.\arabic{enumiii})}}}\kern-.30ex}

% Text alerts 
\NewDocumentCommand{\al}{o g}
{
        \IfNoValueTF{#1}{{\bfseries\textcolor{CtpPink}{#2}}}{\textcolor<#1>{CtpPink}{\textbf<#1>{#2}}}
}

\NewDocumentCommand{\alg}{o g}
{
        \IfNoValueTF{#1}{{\bfseries\textcolor{CtpGreen}{#2}}}{\textcolor<#1>{CtpGreen}{\textbf<#1>{#2}}}
}

\NewDocumentCommand{\alr}{o g}
{
        \IfNoValueTF{#1}{{\bfseries\textcolor{CtpRed}{#2}}}{\textcolor<#1>{CtpRed}{\textbf<#1>{#2}}}
}

\NewDocumentCommand{\alb}{o g}
{
        \IfNoValueTF{#1}{{\bfseries\textcolor{CtpSky}{#2}}}{\textcolor<#1>{CtpSky}{\textbf<#1>{#2}}}
}

% Math alerts 
\NewDocumentCommand{\mal}{o g}
{
        \IfNoValueTF{#1}{\textcolor{CtpPink}{\boldsymbol{#2}}}{\textcolor<#1>{CtpPink}{\boldsymbol{#2}}}
}

\NewDocumentCommand{\malg}{o g}
{
        \IfNoValueTF{#1}{\textcolor{CtpGreen}{\boldsymbol{#2}}}{\textcolor<#1>{CtpGreen}{\boldsymbol{#2}}}
}

\NewDocumentCommand{\malr}{o g}
{
        \IfNoValueTF{#1}{\textcolor{CtpRed}{\boldsymbol{#2}}}{\textcolor<#1>{CtpRed}{\boldsymbol{#2}}}
}

\NewDocumentCommand{\malb}{o g}
{
        \IfNoValueTF{#1}{\textcolor{CtpSky}{\boldsymbol{#2}}}{\textcolor<#1>{CtpSky}{\boldsymbol{#2}}}
}

% Custom commands
\newcommand{\newprime}[1]{#1'}
\newcommand{\pprime}[1]{#1''}
